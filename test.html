<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.0.0/dist/tf.min.js"></script>
<script>
  
 async function dengar(){
    const mic = await tf.data.microphone({
   fftSize: 1024,
   columnTruncateLength: 232,
   numFramesPerSpectrogram: 43,
   sampleRateHz:48000,
   includeSpectrogram: true,
   includeWaveform: true
});
const audioData = await mic.capture();


setTimeout(async function(){
    const spectrogramTensor = audioData.spectrogram;
// spectrogramTensor.print();
console.log(spectrogramTensor);
const waveformTensor = audioData.waveform;
// waveformTensor.print();
mic.stop();

let model = await tf.loadLayersModel("./model_tfjs/model.json")
z = model.predict(spectrogramTensor)
console.log(z);
}, 5000);
  }

dengar()


</script>